<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>insult.</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.cdnfonts.com/css/istanbul-pro" rel="stylesheet">
</head>

  <body>
    <div id="text">
      <p class="hi" id="hi">hiya friend<br><span id="click">(tap here to continue ->)</span><p>
    </div>
    <div id="gif">
      <img src="./hj-laugh.gif"></img>
    </div>
    <script>
      var el = document.getElementById("hi");
      stage = 0;

      function update(stage) {
        if (stage == 1) {
          el.textContent = "insulting you is hard too...";
        }
        else if (stage == 2) {
          el.textContent = "so just know...";
        }
        else if (stage == 3) {
          el.textContent = "at least I don't need the guide piece";
        }
      }

      function showGif() {
        if (stage == 3) {
          void el.offsetWidth;
          document.getElementById("gif").classList.add("gif");
        }
      }

      el.onclick = () => {
        if ((getComputedStyle(el).opacity >= .5) && (stage < 3)) {
          stage = stage + 1;
          el.classList.remove("hi");
          void el.offsetWidth;
          el.classList.add("hi");
          update(stage);
          showGif();
        }
      }
    </script>
  </body>
</html>