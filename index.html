<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>insult.</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.cdnfonts.com/css/istanbul-pro" rel="stylesheet">
</head>

  <body>
    <div id="text">
      <p class="hi" id="hi">hiya friend<br><span id="click">(tap here to continue ->)</span><p>
    </div>
    <div id="gif">
      <img src="./hj-laugh.gif"></img>
    </div>
    <script>
      var el = document.getElementById("hi");
      var stage = 0;
      const today = new Date();
      const birthday = new Date("07/04/1997");

      const ageYear = today.getFullYear() - birthday.getFullYear();

      birthday.setFullYear(birthday.getFullYear() + 26);

      var timeDiff = today.getTime() - birthday.getTime();
      var dayDiff = timeDiff / (1000 * 3600 * 24);
      dayDiff = Math.round(dayDiff) - 1;

      console.log(dayDiff);

      function update(stage) {
        if (stage == 1) {
          el.textContent = "insulting you is hard too...";
        }
        else if (stage == 2) {
          el.textContent = "so just know...";
        }
        else if (stage == 3) {
          el.textContent = "at least I'm not " + ageYear + " years and " + dayDiff + " days old";
          document.getElementById("gif").classList.add("gif");
        }

        el.classList.remove("hi");
        void el.offsetWidth;
        el.classList.add("hi");
      }

      el.onclick = () => {
        if ((getComputedStyle(el).opacity >= .5) && (stage < 3)) {
          stage = stage + 1;
          update(stage);
        }
      }
    </script>
  </body>
</html>